# ============================================================================
# Naver Connect Chatbot - 환경변수 설정 예시
# ============================================================================
# 이 파일을 복사하여 .env 파일을 생성하고 실제 값으로 채워주세요.
# 사용법: cp env.example .env
# ============================================================================

# ============================================================================
# Slack Bot 설정 (필수)
# ============================================================================
# Slack App 설정 페이지에서 확인할 수 있습니다.
# https://api.slack.com/apps

# Slack Bot User OAuth Token (xoxb-로 시작)
SLACK_BOT_TOKEN=xoxb-your-bot-token-here

# Slack App Signing Secret (요청 검증용)
SLACK_SIGNING_SECRET=your-signing-secret-here

# Slack App-Level Token (Socket Mode용, xapp-로 시작) - 선택사항
# SLACK_APP_TOKEN=xapp-your-app-token-here

# Slack 서버 포트 (기본값: 3000, Docker에서는 8000 사용)
SLACK_PORT=3000

# ============================================================================
# Qdrant Vector Store 설정 (필수)
# ============================================================================
# Qdrant 벡터 데이터베이스 연결 정보

# Qdrant 서버 URL
# 로컬: http://localhost:6333
# Docker Compose: http://qdrant:6333
QDRANT_URL=http://localhost:6333

# Qdrant API 키 (선택사항, 클라우드 사용 시 필요)
# QDRANT_API_KEY=your-qdrant-api-key

# 컬렉션 이름
QDRANT_COLLECTION_NAME=slack_qa

# 임베딩 차원 수 (사용하는 임베딩 모델에 따라 설정)
QDRANT_EMBEDDING_DIMENSIONS=1024

# ============================================================================
# Naver Cloud Embeddings 설정 (필수)
# ============================================================================
# Clova Studio의 BGE-M3 임베딩 서비스 설정

# 임베딩 모델 URL
NAVER_CLOUD_EMBEDDINGS_MODEL_URL=https://clovastudio.apigw.ntruss.com/testapp/v1/api-tools/embedding/clir-emb-dolphin/embed

# 임베딩 API 키
NAVER_CLOUD_EMBEDDINGS_API_KEY=your-embeddings-api-key-here

# ============================================================================
# Naver Cloud Chat (Chat Completions V3) 설정 (권장)
# ============================================================================
# Clova Studio의 Chat Completions V3 API 설정
# Thinking, Function Calling, Structured Output 지원

# Chat Completions V3 엔드포인트
NAVER_CLOUD_CHAT_ENDPOINT=https://clovastudio.apigw.ntruss.com/testapp/v1/chat-completions/HCX-003

# Chat API 키
NAVER_CLOUD_CHAT_API_KEY=your-chat-api-key-here

# Chat API Gateway 키 (선택사항)
# NAVER_CLOUD_CHAT_API_GATEWAY_KEY=your-gateway-key-here

# 모델 이름 (HCX-003, HCX-DASH-001 등)
NAVER_CLOUD_CHAT_MODEL_NAME=HCX-003

# Temperature (0.0-1.0)
NAVER_CLOUD_CHAT_TEMPERATURE=0.7

# 최대 토큰 수
NAVER_CLOUD_CHAT_MAX_TOKENS=1024

# Chat 모델 활성화 여부
NAVER_CLOUD_CHAT_ENABLED=true

# ============================================================================
# OpenAI 설정 (선택사항)
# ============================================================================
# OpenAI API를 사용하려는 경우 설정

# OpenAI API 키
# OPENAI_API_KEY=sk-your-openai-api-key-here

# 모델 이름
# OPENAI_MODEL_NAME=gpt-4o-mini

# Temperature
# OPENAI_TEMPERATURE=0.7

# OpenAI 활성화 여부
# OPENAI_ENABLED=true

# ============================================================================
# OpenRouter 설정 (선택사항)
# ============================================================================
# OpenRouter API를 사용하려는 경우 설정

# OpenRouter API 키
# OPENROUTER_API_KEY=sk-or-your-openrouter-api-key-here

# 모델 이름
# OPENROUTER_MODEL_NAME=anthropic/claude-3.5-sonnet

# Temperature
# OPENROUTER_TEMPERATURE=0.7

# OpenRouter 활성화 여부
# OPENROUTER_ENABLED=true

# ============================================================================
# Naver Cloud Reranker 설정 (선택사항)
# ============================================================================
# Clova Studio의 Reranker 서비스 설정

# Reranker 엔드포인트
# NAVER_CLOUD_RERANKER_ENDPOINT=https://clovastudio.apigw.ntruss.com/testapp/v1/api-tools/reranker/rerank

# Reranker API 키
# NAVER_CLOUD_RERANKER_API_KEY=your-reranker-api-key-here

# Reranker API Gateway 키 (선택사항)
# NAVER_CLOUD_RERANKER_API_GATEWAY_KEY=your-gateway-key-here

# 요청 타임아웃 (초)
# NAVER_CLOUD_RERANKER_REQUEST_TIMEOUT=30.0

# 기본 Top K
# NAVER_CLOUD_RERANKER_DEFAULT_TOP_K=10

# Reranker 활성화 여부
# NAVER_CLOUD_RERANKER_ENABLED=false

# ============================================================================
# Naver Cloud Segmentation 설정 (선택사항)
# ============================================================================
# Clova Studio의 문서 분할 서비스 설정

# Segmentation 엔드포인트
# NAVER_CLOUD_SEGMENTATION_ENDPOINT=https://clovastudio.apigw.ntruss.com/testapp/v1/api-tools/segmentation/segment

# Segmentation API 키
# NAVER_CLOUD_SEGMENTATION_API_KEY=your-segmentation-api-key-here

# Segmentation 활성화 여부
# NAVER_CLOUD_SEGMENTATION_ENABLED=false

# ============================================================================
# Naver Cloud Summarization 설정 (선택사항)
# ============================================================================
# Clova Studio의 문서 요약 서비스 설정

# Summarization 엔드포인트
# NAVER_CLOUD_SUMMARIZATION_ENDPOINT=https://clovastudio.apigw.ntruss.com/testapp/v1/api-tools/summarization/summarize

# Summarization API 키
# NAVER_CLOUD_SUMMARIZATION_API_KEY=your-summarization-api-key-here

# 기본 요약 길이 (short, medium, long)
# NAVER_CLOUD_SUMMARIZATION_DEFAULT_LENGTH=medium

# Summarization 활성화 여부
# NAVER_CLOUD_SUMMARIZATION_ENABLED=false

# ============================================================================
# Naver Cloud RAG Reasoning 설정 (선택사항)
# ============================================================================
# Clova Studio의 RAG Reasoning 서비스 설정

# RAG Reasoning 엔드포인트
# NAVER_CLOUD_RAG_REASONING_ENDPOINT=https://clovastudio.apigw.ntruss.com/testapp/v1/api-tools/rag-reasoning/reason

# RAG Reasoning API 키
# NAVER_CLOUD_RAG_REASONING_API_KEY=your-rag-reasoning-api-key-here

# RAG Reasoning 활성화 여부
# NAVER_CLOUD_RAG_REASONING_ENABLED=false

# ============================================================================
# Naver Cloud OpenAI Compatible API 설정 (선택사항)
# ============================================================================
# Clova Studio의 OpenAI 호환 API 설정

# OpenAI Compatible Base URL
# NAVER_CLOUD_OPENAI_COMPATIBLE_BASE_URL=https://clovastudio.apigw.ntruss.com/testapp/v1/chat/completions

# OpenAI Compatible API 키
# NAVER_CLOUD_OPENAI_COMPATIBLE_API_KEY=your-openai-compatible-api-key-here

# 기본 모델
# NAVER_CLOUD_OPENAI_COMPATIBLE_DEFAULT_MODEL=HCX-003

# OpenAI Compatible 활성화 여부
# NAVER_CLOUD_OPENAI_COMPATIBLE_ENABLED=false

# ============================================================================
# Retriever 설정
# ============================================================================
# Hybrid Search 및 RAG 관련 설정

# 기본 검색 결과 수
RETRIEVER_DEFAULT_K=10

# BM25 (Sparse) 가중치
RETRIEVER_DEFAULT_SPARSE_WEIGHT=0.5

# Dense (Vector) 가중치
RETRIEVER_DEFAULT_DENSE_WEIGHT=0.5

# Reciprocal Rank Fusion (RRF) 상수
RETRIEVER_DEFAULT_RRF_C=60

# BM25 인덱스 파일 경로
RETRIEVER_BM25_INDEX_PATH=sparse_index/bm25_slack_qa.pkl

# ============================================================================
# Multi-Query 설정
# ============================================================================
# Multi-Query Retrieval 전략 설정

# 생성할 쿼리 수
MULTI_QUERY_NUM_QUERIES=4

# 기본 전략 (rrf, score, deduplicate)
MULTI_QUERY_DEFAULT_STRATEGY=rrf

# RRF K 값
MULTI_QUERY_RRF_K=60

# 원본 쿼리 포함 여부
MULTI_QUERY_INCLUDE_ORIGINAL=true

# ============================================================================
# Advanced Hybrid 설정
# ============================================================================
# Advanced Hybrid Retrieval 가중치 설정

# Base Hybrid 가중치
ADVANCED_HYBRID_BASE_HYBRID_WEIGHT=0.4

# Multi-Query 가중치
ADVANCED_HYBRID_MULTI_QUERY_WEIGHT=0.6

# ============================================================================
# 로깅 설정
# ============================================================================
# 애플리케이션 로깅 레벨 및 출력 설정

# 로그 레벨 (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# 콘솔 로그 활성화
LOG_ENABLE_CONSOLE=true

# 파일 로그 활성화
LOG_ENABLE_FILE=true

# 로그 파일 저장 디렉토리
LOG_LOG_DIR=logs

# ============================================================================
# 주의사항
# ============================================================================
# 1. 이 파일을 .env로 복사한 후 실제 값으로 채워주세요.
#    명령어: cp env.example .env
# 2. .env 파일은 절대 Git에 커밋하지 마세요 (.gitignore에 포함되어 있음).
# 3. 필수 환경변수: SLACK_*, QDRANT_*, NAVER_CLOUD_EMBEDDINGS_*, NAVER_CLOUD_CHAT_*
# 4. Docker Compose 사용 시 QDRANT_URL은 자동으로 http://qdrant:6333으로 설정됩니다.
# 5. 모든 API 키와 시크릿은 안전하게 보관하세요.
# ============================================================================

